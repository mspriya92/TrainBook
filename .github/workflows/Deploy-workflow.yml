
name: Deploy
 
on:
  workflow_dispatch
 
jobs:
  deploy:
    runs-on: ubuntu-latest  
    steps:
      - name: Select Environment (required)
        uses: actions/input@v3
        with:
          required: true
          default: 'dev'  # Default environment if not provided
          name: environment  # Input field name displayed in the UI
 
      # Conditional steps based on environment input
      - name: Deploy to DEV environment
        if: ${{ github.event.inputs.environment == 'dev' }}
        run: echo "Deploying to DEV..."  # Replace with actual deployment commands
        shell: bash
 
      - name: Deploy to QA environment (waits for DEV completion)
        if: ${{ github.event.inputs.environment == 'qa' }}
        needs: Deploy to DEV environment  # Job dependency to ensure DEV completes first
        run: echo "Deploying to QA..."  # Replace with actual deployment commands
        shell: bash
