
name: Conditional Workflow Execution

on:
  workflow_dispatch:
    
  workflow_call:
    inputs:
      environment:
        description: 'Choose the env to deploy (Dev or Prod)?'
        required: true
        type: string

jobs:
  deploy_Dev:
    if: ${{ github.event.inputs.environment == 'Dev' }}
    runs-on: ubuntu-latest
    steps:
      - name: Job 1
        run: echo "Running Job 1 for dev environment"

  Deploy_prod:
    if: ${{ success() && github.event.inputs.environment == 'Prod' }}
    needs: deploy_Dev
    runs-on: ubuntu-latest
    steps:
      - name: Job 1
        run: echo "Running Job 1 for Prod environment"

  deploy_Prod1:
    if: ${{ success() && github.event.inputs.environment == 'Prod' }}
    needs: Deploy_prod
    runs-on: ubuntu-latest
    steps:
      - name: Job 1
        run: echo "Running Job 1 for Prod1 environment"


