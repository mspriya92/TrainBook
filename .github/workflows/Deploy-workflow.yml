
name: Conditional Workflow Execution

on:
  workflow_dispatch:
    
  workflow_call:
    inputs:
      environment:
        description: 'Choose the env to deploy (Dev or Prod)?'
        required: true
        type: string

jobs:
  Deploy_Dev:
    #if: ${{ github.event.inputs.environment == 'Dev' }}
    runs-on: ubuntu-latest
    environment: Dev
    steps:
      - name: Job 1
        run: echo "Running Job 1 for dev environment"

  Deploy_Prod:
    #if: ${{ success() && github.event.inputs.environment == 'Prod' }}
    needs: Deploy_Dev
    runs-on: ubuntu-latest
    environment: Prod
    steps:
      - name: Job 1
        run: echo "Running Job 1 for Prod environment"

  Deploy_Prod1:
    #if: ${{ success() && github.event.inputs.environment == 'Prod' }}
    needs: Deploy_Prod
    runs-on: ubuntu-latest
    environment: Prod1
    steps:
      - name: Job 1
        run: echo "Running Job 1 for Prod1 environment"


